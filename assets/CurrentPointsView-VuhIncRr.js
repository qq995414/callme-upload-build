import{r as t,j as e}from"./index-DJ0IS-oA.js";import{a as p}from"./axios-upsvKRUO.js";import{A as z}from"./AppBar-CL-OfsFA.js";import{C as _}from"./CopyrightFooter-BTH_ji-_.js";function U(){var m;const[s,u]=t.useState({}),[E,g]=t.useState(window.innerWidth),[h,f]=t.useState(""),[T,j]=t.useState(""),[A,y]=t.useState(""),[H,w]=t.useState(""),[L,b]=t.useState(""),[$,k]=t.useState(""),[v,n]=t.useState(!1),[a,d]=t.useState(0),[B,C]=t.useState("");t.useEffect(()=>{const r=window.sessionStorage.getItem("nickname")||"",i=window.sessionStorage.getItem("gender_type")||"",o=window.sessionStorage.getItem("token")||"",l=window.sessionStorage.getItem("chat_id")||"",N=window.sessionStorage.getItem("chat_token")||"",W=window.sessionStorage.getItem("u_id")||"";j(r),k(i),f(o),y(l),w(N),b(W),x(o)},[]),t.useEffect(()=>{function r(){g(window.innerWidth)}return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);async function x(r){try{const i=await p.get("https://api.dageiwo.com/auth/info",{headers:{Authorization:`Bearer ${r}`}});i.status===200&&i.data.success&&(u(i.data.data),console.log(i.data.data))}catch(i){console.error("RetrieveInfo error:",i)}}async function S(){C("");const r={point:a};console.log("applyWithdrawals",r);try{const i=await p.post("https://api.dageiwo.com/api/user/withdrawals/apply",r,{headers:{Authorization:`Bearer ${h}`}});if(i.status===200&&i.data.success){console.log(i.data),n(!1),d(0),x(h);return}else i.status===400&&alert(i.data.message);n(!1),d(0)}catch(i){console.error("applyWithdrawals error:",i),alert("更新檔案發生錯誤, 請檢查網路後重試一次."),n(!1),d(0)}}function F(r){return r==null?"":r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function I(r){var l;const o=((l=s.female_response)==null?void 0:l.point)||0;return r?r<5e3?"不得低於 5000":r>o?`不得超過 ${o}`:!0:"請輸入數字"}function R(){var i;const r=((i=s==null?void 0:s.female_response)==null?void 0:i.withdrawal_point)||0;return Math.floor(r/5)}function c(){return I(a)===!0}return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("button",{style:{background:"none",border:"none",color:"#fff"},onClick:()=>window.history.back(),children:e.jsx("i",{className:"mdi mdi-chevron-left",style:{fontSize:"24px"}})}),e.jsx("h2",{style:{color:"#fff",marginLeft:"1rem"},children:"目前點數"})]})}),e.jsxs("div",{className:"transaction-record",style:{maxWidth:"800px",margin:"0 auto",color:"rgba(0,0,0,0.7)",padding:"1rem"},children:[e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"12px",padding:"1rem",marginBottom:"1rem",backgroundColor:"#FFF"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h1",{children:[F((m=s==null?void 0:s.female_response)==null?void 0:m.withdrawal_point),"點"]}),e.jsx("button",{style:{background:"#dd8ea4",color:"#fff",borderRadius:"8px",padding:"0.5rem 1rem",border:"none"},onClick:()=>n(!0),children:"兌換"})]}),e.jsx("div",{children:e.jsxs("h4",{children:["兌換價值 NT$ ",R()]})})]}),e.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"0.5rem",margin:"0.5rem",cursor:"pointer",backgroundColor:"#FFF"},onClick:()=>window.location.href="/income-details",children:e.jsxs("h3",{children:["收入明細 ",e.jsx("i",{className:"mdi mdi-chevron-right"})]})}),e.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"0.5rem",margin:"0.5rem",cursor:"pointer",backgroundColor:"#FFF"},onClick:()=>window.location.href="/redemption-records",children:e.jsxs("h3",{children:["兌換紀錄 ",e.jsx("i",{className:"mdi mdi-chevron-right"})]})}),e.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"0.5rem",margin:"0.5rem",cursor:"pointer",backgroundColor:"#FFF"},onClick:()=>window.location.href="/identity-verification",children:e.jsxs("h3",{children:["身分驗證 ",e.jsx("i",{className:"mdi mdi-chevron-right"})]})}),e.jsx("div",{style:{border:"1px solid #ccc",borderRadius:"8px",padding:"0.5rem",margin:"0.5rem",cursor:"pointer",backgroundColor:"#FFF"},onClick:()=>window.location.href="/account-verification",children:e.jsxs("h3",{children:["帳號驗證 ",e.jsx("i",{className:"mdi mdi-chevron-right"})]})}),e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"12px",padding:"1rem",margin:"1rem 0",backgroundColor:"#FFF"},children:[e.jsx("h3",{style:{color:"dodgerblue",textAlign:"center"},children:"推薦獎勵機制"}),e.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",textIndent:"2em"},children:"為了回饋推廣者，我們制定了推薦獎勵機制。當您推薦他人使用您的「介紹碼」註冊並加入 CoMe 平台時，我們將提供以下獎勵："}),e.jsxs("ol",{style:{marginLeft:"20px",lineHeight:"1.6"},children:[e.jsxs("li",{children:[e.jsx("b",{children:"推薦消費獎金："}),"根據您推薦的好友每月實際消費金額，我們提供 4% 至 8% 的分潤比例。消費金額越高，分潤比例越高。此分潤為平台額外提供，不影響好友的實際支出。"]}),e.jsxs("li",{children:[e.jsx("b",{children:"推薦收益獎金："}),"根據您推薦的好友在平台上獲得的收益，每月提供 4% 至 8% 的分潤。此收益分潤亦為平台額外提供，不從好友的實際收益中扣除。"]})]}),e.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6"},children:"詳細分潤比例："}),e.jsxs("ul",{style:{marginLeft:"20px",lineHeight:"1.6"},children:[e.jsxs("li",{children:[e.jsx("b",{children:"推薦的好友消費金額（單人/月計）："}),e.jsxs("ul",{style:{marginLeft:"20px",lineHeight:"1.6"},children:[e.jsx("li",{children:"新台幣 1～1999 元：4% 分潤"}),e.jsx("li",{children:"新台幣 2000～4999 元：5% 分潤"}),e.jsx("li",{children:"新台幣 5000～9999 元：6% 分潤"}),e.jsx("li",{children:"新台幣 10000～19999 元：7% 分潤"}),e.jsx("li",{children:"新台幣 20000 元以上：8% 分潤"})]})]}),e.jsxs("li",{children:[e.jsx("b",{children:"推薦的好友收益金額（月計）："}),e.jsxs("ul",{style:{marginLeft:"20px",lineHeight:"1.6"},children:[e.jsx("li",{children:"新台幣 1～1999 元：4% 分潤"}),e.jsx("li",{children:"新台幣 2000～4999 元：5% 分潤"}),e.jsx("li",{children:"新台幣 5000～9999 元：6% 分潤"}),e.jsx("li",{children:"新台幣 10000～19999 元：7% 分潤"}),e.jsx("li",{children:"新台幣 20000 元以上：8% 分潤"})]})]})]}),e.jsx("p",{style:{margin:"10px 0",lineHeight:"1.6",textIndent:"2em"},children:"消費金額分潤的計算以好友註冊後的前三個月內平均分計入，且好友需為有效帳號。"})]})]}),v&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"1rem",width:"90%",maxWidth:"560px"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"16px"},onClick:()=>n(!1),children:e.jsx("i",{className:"mdi mdi-close"})})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h2",{style:{color:"dodgerblue"},children:"兌換規則"}),e.jsx("hr",{}),e.jsx("p",{style:{fontSize:"small",margin:"4px"},children:"1. 最低提領 1000 新台幣"}),e.jsx("p",{style:{fontSize:"small",margin:"4px"},children:"2. 一週最高提領 30000 新台幣"}),e.jsx("p",{style:{fontSize:"small",margin:"4px"},children:"3. 提領需使用本人銀行帳戶"}),e.jsx("hr",{}),e.jsxs("div",{style:{margin:"10px 5px"},children:[e.jsx("label",{style:{marginRight:"10px"},children:"提領點數"}),e.jsx("input",{type:"number",value:a,onChange:r=>d(Number(r.target.value)),style:{width:"150px"}})]}),e.jsx("button",{style:{background:c()?"green":"#aaa",color:"#fff",padding:"0.5rem 1rem",border:"none",cursor:c()?"pointer":"not-allowed",borderRadius:"8px"},disabled:!c(),onClick:S,children:"送出"})]})]})}),e.jsx(_,{})]})}export{U as default};
