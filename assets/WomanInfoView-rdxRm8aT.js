var qe=Object.defineProperty;var Ke=(t,s,e)=>s in t?qe(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var p=(t,s,e)=>Ke(t,typeof s!="symbol"?s+"":s,e);import{r as m,R as f,a as Xe,u as Ye,j as u}from"./index-B5A3E37t.js";import{a as $}from"./axios-upsvKRUO.js";import{A as Ze}from"./AppBar-Ks0lJbdw.js";const Ae=Object.freeze({left:0,top:0,width:16,height:16}),J=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),re=Object.freeze({...Ae,...J}),Z=Object.freeze({...re,body:"",hidden:!1});function et(t,s){const e={};!t.hFlip!=!s.hFlip&&(e.hFlip=!0),!t.vFlip!=!s.vFlip&&(e.vFlip=!0);const n=((t.rotate||0)+(s.rotate||0))%4;return n&&(e.rotate=n),e}function ge(t,s){const e=et(t,s);for(const n in Z)n in J?n in t&&!(n in e)&&(e[n]=J[n]):n in s?e[n]=s[n]:n in t&&(e[n]=t[n]);return e}function tt(t,s){const e=t.icons,n=t.aliases||Object.create(null),o=Object.create(null);function r(i){if(e[i])return o[i]=[];if(!(i in o)){o[i]=null;const a=n[i]&&n[i].parent,l=a&&r(a);l&&(o[i]=[a].concat(l))}return o[i]}return Object.keys(e).concat(Object.keys(n)).forEach(r),o}function nt(t,s,e){const n=t.icons,o=t.aliases||Object.create(null);let r={};function i(a){r=ge(n[a]||o[a],r)}return i(s),e.forEach(i),ge(t,r)}function Le(t,s){const e=[];if(typeof t!="object"||typeof t.icons!="object")return e;t.not_found instanceof Array&&t.not_found.forEach(o=>{s(o,null),e.push(o)});const n=tt(t);for(const o in n){const r=n[o];r&&(s(o,nt(t,o,r)),e.push(o))}return e}const ot={provider:"",aliases:{},not_found:{},...Ae};function K(t,s){for(const e in s)if(e in t&&typeof t[e]!=typeof s[e])return!1;return!0}function Pe(t){if(typeof t!="object"||t===null)return null;const s=t;if(typeof s.prefix!="string"||!t.icons||typeof t.icons!="object"||!K(t,ot))return null;const e=s.icons;for(const o in e){const r=e[o];if(!o||typeof r.body!="string"||!K(r,Z))return null}const n=s.aliases||Object.create(null);for(const o in n){const r=n[o],i=r.parent;if(!o||typeof i!="string"||!e[i]&&!n[i]||!K(r,Z))return null}return s}const Me=/^[a-z0-9]+(-[a-z0-9]+)*$/,H=(t,s,e,n="")=>{const o=t.split(":");if(t.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;n=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const a=o.pop(),l=o.pop(),h={provider:o.length>0?o[0]:n,prefix:l,name:a};return s&&!z(h)?null:h}const r=o[0],i=r.split("-");if(i.length>1){const a={provider:n,prefix:i.shift(),name:i.join("-")};return s&&!z(a)?null:a}if(e&&n===""){const a={provider:n,prefix:"",name:r};return s&&!z(a,e)?null:a}return null},z=(t,s)=>t?!!((s&&t.prefix===""||t.prefix)&&t.name):!1,ve=Object.create(null);function st(t,s){return{provider:t,prefix:s,icons:Object.create(null),missing:new Set}}function R(t,s){const e=ve[t]||(ve[t]=Object.create(null));return e[s]||(e[s]=st(t,s))}function Ie(t,s){return Pe(s)?Le(s,(e,n)=>{n?t.icons[e]=n:t.missing.add(e)}):[]}function rt(t,s,e){try{if(typeof e.body=="string")return t.icons[s]={...e},!0}catch{}return!1}let B=!1;function Oe(t){return typeof t=="boolean"&&(B=t),B}function we(t){const s=typeof t=="string"?H(t,!0,B):t;if(s){const e=R(s.provider,s.prefix),n=s.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function it(t,s){const e=H(t,!0,B);if(!e)return!1;const n=R(e.provider,e.prefix);return s?rt(n,e.name,s):(n.missing.add(e.name),!0)}function at(t,s){if(typeof t!="object")return!1;if(typeof s!="string"&&(s=t.provider||""),B&&!s&&!t.prefix){let o=!1;return Pe(t)&&(t.prefix="",Le(t,(r,i)=>{it(r,i)&&(o=!0)})),o}const e=t.prefix;if(!z({provider:s,prefix:e,name:"a"}))return!1;const n=R(s,e);return!!Ie(n,t)}const _e=Object.freeze({width:null,height:null}),De=Object.freeze({..._e,...J}),lt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ct=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function xe(t,s,e){if(s===1)return t;if(e=e||100,typeof t=="number")return Math.ceil(t*s*e)/e;if(typeof t!="string")return t;const n=t.split(lt);if(n===null||!n.length)return t;const o=[];let r=n.shift(),i=ct.test(r);for(;;){if(i){const a=parseFloat(r);isNaN(a)?o.push(r):o.push(Math.ceil(a*s*e)/e)}else o.push(r);if(r=n.shift(),r===void 0)return o.join("");i=!i}}function ut(t,s="defs"){let e="";const n=t.indexOf("<"+s);for(;n>=0;){const o=t.indexOf(">",n),r=t.indexOf("</"+s);if(o===-1||r===-1)break;const i=t.indexOf(">",r);if(i===-1)break;e+=t.slice(o+1,r).trim(),t=t.slice(0,n).trim()+t.slice(i+1)}return{defs:e,content:t}}function dt(t,s){return t?"<defs>"+t+"</defs>"+s:s}function ht(t,s,e){const n=ut(t);return dt(n.defs,s+n.content+e)}const pt=t=>t==="unset"||t==="undefined"||t==="none";function ft(t,s){const e={...re,...t},n={...De,...s},o={left:e.left,top:e.top,width:e.width,height:e.height};let r=e.body;[e,n].forEach(T=>{const d=[],v=T.hFlip,M=T.vFlip;let S=T.rotate;v?M?S+=2:(d.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),d.push("scale(-1 1)"),o.top=o.left=0):M&&(d.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),d.push("scale(1 -1)"),o.top=o.left=0);let A;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:A=o.height/2+o.top,d.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:d.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:A=o.width/2+o.left,d.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}S%2===1&&(o.left!==o.top&&(A=o.left,o.left=o.top,o.top=A),o.width!==o.height&&(A=o.width,o.width=o.height,o.height=A)),d.length&&(r=ht(r,'<g transform="'+d.join(" ")+'">',"</g>"))});const i=n.width,a=n.height,l=o.width,h=o.height;let c,g;i===null?(g=a===null?"1em":a==="auto"?h:a,c=xe(g,l/h)):(c=i==="auto"?l:i,g=a===null?xe(c,h/l):a==="auto"?h:a);const y={},b=(T,d)=>{pt(d)||(y[T]=d.toString())};b("width",c),b("height",g);const C=[o.left,o.top,l,h];return y.viewBox=C.join(" "),{attributes:y,viewBox:C,body:r}}const mt=/\sid="(\S+)"/g,gt="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let vt=0;function wt(t,s=gt){const e=[];let n;for(;n=mt.exec(t);)e.push(n[1]);if(!e.length)return t;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(r=>{const i=typeof s=="function"?s(r):s+(vt++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+o+"$3")}),t=t.replace(new RegExp(o,"g"),""),t}const ee=Object.create(null);function xt(t,s){ee[t]=s}function te(t){return ee[t]||ee[""]}function ie(t){let s;if(typeof t.resources=="string")s=[t.resources];else if(s=t.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const ae=Object.create(null),V=["https://api.simplesvg.com","https://api.unisvg.com"],G=[];for(;V.length>0;)V.length===1||Math.random()>.5?G.push(V.shift()):G.push(V.pop());ae[""]=ie({resources:["https://api.iconify.design"].concat(G)});function yt(t,s){const e=ie(s);return e===null?!1:(ae[t]=e,!0)}function le(t){return ae[t]}const bt=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let ye=bt();function Et(t,s){const e=le(t);if(!e)return 0;let n;if(!e.maxURL)n=0;else{let o=0;e.resources.forEach(i=>{o=Math.max(o,i.length)});const r=s+".json?icons=";n=e.maxURL-o-e.path.length-r.length}return n}function Ct(t){return t===404}const Tt=(t,s,e)=>{const n=[],o=Et(t,s),r="icons";let i={type:r,provider:t,prefix:s,icons:[]},a=0;return e.forEach((l,h)=>{a+=l.length+1,a>=o&&h>0&&(n.push(i),i={type:r,provider:t,prefix:s,icons:[]},a=l.length),i.icons.push(l)}),n.push(i),n};function St(t){if(typeof t=="string"){const s=le(t);if(s)return s.path}return"/"}const kt=(t,s,e)=>{if(!ye){e("abort",424);return}let n=St(s.provider);switch(s.type){case"icons":{const r=s.prefix,a=s.icons.join(","),l=new URLSearchParams({icons:a});n+=r+".json?"+l.toString();break}case"custom":{const r=s.uri;n+=r.slice(0,1)==="/"?r.slice(1):r;break}default:e("abort",400);return}let o=503;ye(t+n).then(r=>{const i=r.status;if(i!==200){setTimeout(()=>{e(Ct(i)?"abort":"next",i)});return}return o=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?e("abort",r):e("next",o)});return}setTimeout(()=>{e("success",r)})}).catch(()=>{e("next",o)})},At={prepare:Tt,send:kt};function Lt(t){const s={loaded:[],missing:[],pending:[]},e=Object.create(null);t.sort((o,r)=>o.provider!==r.provider?o.provider.localeCompare(r.provider):o.prefix!==r.prefix?o.prefix.localeCompare(r.prefix):o.name.localeCompare(r.name));let n={provider:"",prefix:"",name:""};return t.forEach(o=>{if(n.name===o.name&&n.prefix===o.prefix&&n.provider===o.provider)return;n=o;const r=o.provider,i=o.prefix,a=o.name,l=e[r]||(e[r]=Object.create(null)),h=l[i]||(l[i]=R(r,i));let c;a in h.icons?c=s.loaded:i===""||h.missing.has(a)?c=s.missing:c=s.pending;const g={provider:r,prefix:i,name:a};c.push(g)}),s}function je(t,s){t.forEach(e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(o=>o.id!==s))})}function Pt(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const s=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!s.length)return;let e=!1;const n=t.provider,o=t.prefix;s.forEach(r=>{const i=r.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==o)return!0;const h=l.name;if(t.icons[h])i.loaded.push({provider:n,prefix:o,name:h});else if(t.missing.has(h))i.missing.push({provider:n,prefix:o,name:h});else return e=!0,!0;return!1}),i.pending.length!==a&&(e||je([t],r.id),r.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),r.abort))})}))}let Mt=0;function It(t,s,e){const n=Mt++,o=je.bind(null,e,n);if(!s.pending.length)return o;const r={id:n,icons:s,callback:t,abort:o};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(r)}),o}function Ot(t,s=!0,e=!1){const n=[];return t.forEach(o=>{const r=typeof o=="string"?H(o,s,e):o;r&&n.push(r)}),n}var _t={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Dt(t,s,e,n){const o=t.resources.length,r=t.random?Math.floor(Math.random()*o):t.index;let i;if(t.random){let w=t.resources.slice(0);for(i=[];w.length>1;){const E=Math.floor(Math.random()*w.length);i.push(w[E]),w=w.slice(0,E).concat(w.slice(E+1))}i=i.concat(w)}else i=t.resources.slice(r).concat(t.resources.slice(0,r));const a=Date.now();let l="pending",h=0,c,g=null,y=[],b=[];typeof n=="function"&&b.push(n);function C(){g&&(clearTimeout(g),g=null)}function T(){l==="pending"&&(l="aborted"),C(),y.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),y=[]}function d(w,E){E&&(b=[]),typeof w=="function"&&b.push(w)}function v(){return{startTime:a,payload:s,status:l,queriesSent:h,queriesPending:y.length,subscribe:d,abort:T}}function M(){l="failed",b.forEach(w=>{w(void 0,c)})}function S(){y.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),y=[]}function A(w,E,L){const k=E!=="success";switch(y=y.filter(j=>j!==w),l){case"pending":break;case"failed":if(k||!t.dataAfterTimeout)return;break;default:return}if(E==="abort"){c=L,M();return}if(k){c=L,y.length||(i.length?D():M());return}if(C(),S(),!t.random){const j=t.resources.indexOf(w.resource);j!==-1&&j!==t.index&&(t.index=j)}l="completed",b.forEach(j=>{j(L)})}function D(){if(l!=="pending")return;C();const w=i.shift();if(w===void 0){if(y.length){g=setTimeout(()=>{C(),l==="pending"&&(S(),M())},t.timeout);return}M();return}const E={status:"pending",resource:w,callback:(L,k)=>{A(E,L,k)}};y.push(E),h++,g=setTimeout(D,t.rotate),e(w,s,E.callback)}return setTimeout(D),v}function Ne(t){const s={..._t,...t};let e=[];function n(){e=e.filter(a=>a().status==="pending")}function o(a,l,h){const c=Dt(s,a,l,(g,y)=>{n(),h&&h(g,y)});return e.push(c),c}function r(a){return e.find(l=>a(l))||null}return{query:o,find:r,setIndex:a=>{s.index=a},getIndex:()=>s.index,cleanup:n}}function be(){}const X=Object.create(null);function jt(t){if(!X[t]){const s=le(t);if(!s)return;const e=Ne(s),n={config:s,redundancy:e};X[t]=n}return X[t]}function Nt(t,s,e){let n,o;if(typeof t=="string"){const r=te(t);if(!r)return e(void 0,424),be;o=r.send;const i=jt(t);i&&(n=i.redundancy)}else{const r=ie(t);if(r){n=Ne(r);const i=t.resources?t.resources[0]:"",a=te(i);a&&(o=a.send)}}return!n||!o?(e(void 0,424),be):n.query(s,o,e)().abort}function Rt(){}function Vt(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Pt(t)}))}function Ft(t){const s=[],e=[];return t.forEach(n=>{(n.match(Me)?s:e).push(n)}),{valid:s,invalid:e}}function F(t,s,e){function n(){const o=t.pendingIcons;s.forEach(r=>{o&&o.delete(r),t.icons[r]||t.missing.add(r)})}if(e&&typeof e=="object")try{if(!Ie(t,e).length){n();return}}catch(o){console.error(o)}n(),Vt(t)}function Ee(t,s){t instanceof Promise?t.then(e=>{s(e)}).catch(()=>{s(null)}):s(t)}function Ut(t,s){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(s).sort():t.iconsToLoad=s,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:e,prefix:n}=t,o=t.iconsToLoad;if(delete t.iconsToLoad,!o||!o.length)return;const r=t.loadIcon;if(t.loadIcons&&(o.length>1||!r)){Ee(t.loadIcons(o,n,e),c=>{F(t,o,c)});return}if(r){o.forEach(c=>{const g=r(c,n,e);Ee(g,y=>{const b=y?{prefix:n,icons:{[c]:y}}:null;F(t,[c],b)})});return}const{valid:i,invalid:a}=Ft(o);if(a.length&&F(t,a,null),!i.length)return;const l=n.match(Me)?te(e):null;if(!l){F(t,i,null);return}l.prepare(e,n,i).forEach(c=>{Nt(e,c,g=>{F(t,c.icons,g)})})}))}const Wt=(t,s)=>{const e=Ot(t,!0,Oe()),n=Lt(e);if(!n.pending.length){let l=!0;return setTimeout(()=>{l&&s(n.loaded,n.missing,n.pending,Rt)}),()=>{l=!1}}const o=Object.create(null),r=[];let i,a;return n.pending.forEach(l=>{const{provider:h,prefix:c}=l;if(c===a&&h===i)return;i=h,a=c,r.push(R(h,c));const g=o[h]||(o[h]=Object.create(null));g[c]||(g[c]=[])}),n.pending.forEach(l=>{const{provider:h,prefix:c,name:g}=l,y=R(h,c),b=y.pendingIcons||(y.pendingIcons=new Set);b.has(g)||(b.add(g),o[h][c].push(g))}),r.forEach(l=>{const h=o[l.provider][l.prefix];h.length&&Ut(l,h)}),It(s,n,r)};function Bt(t,s){const e={...t};for(const n in s){const o=s[n],r=typeof o;n in _e?(o===null||o&&(r==="string"||r==="number"))&&(e[n]=o):r===typeof e[n]&&(e[n]=n==="rotate"?o%4:o)}return e}const $t=/[\s,]+/;function zt(t,s){s.split($t).forEach(e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Gt(t,s=0){const e=t.replace(/^-?[0-9.]*/,"");function n(o){for(;o<0;)o+=4;return o%4}if(e===""){const o=parseInt(t);return isNaN(o)?0:n(o)}else if(e!==t){let o=0;switch(e){case"%":o=25;break;case"deg":o=90}if(o){let r=parseFloat(t.slice(0,t.length-e.length));return isNaN(r)?0:(r=r/o,r%1===0?n(r):0)}}return s}function Jt(t,s){let e=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in s)e+=" "+n+'="'+s[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+t+"</svg>"}function Ht(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Qt(t){return"data:image/svg+xml,"+Ht(t)}function qt(t){return'url("'+Qt(t)+'")'}let U;function Kt(){try{U=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{U=null}}function Xt(t){return U===void 0&&Kt(),U?U.createHTML(t):t}const Re={...De,inline:!1},Yt={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Zt={display:"inline-block"},ne={backgroundColor:"currentColor"},Ve={backgroundColor:"transparent"},Ce={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Te={WebkitMask:ne,mask:ne,background:Ve};for(const t in Te){const s=Te[t];for(const e in Ce)s[t+e]=Ce[e]}const en={...Re,inline:!0};function Se(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const tn=(t,s,e)=>{const n=s.inline?en:Re,o=Bt(n,s),r=s.mode||"svg",i={},a=s.style||{},l={...r==="svg"?Yt:{}};if(e){const d=H(e,!1,!0);if(d){const v=["iconify"],M=["provider","prefix"];for(const S of M)d[S]&&v.push("iconify--"+d[S]);l.className=v.join(" ")}}for(let d in s){const v=s[d];if(v!==void 0)switch(d){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":l.ref=v;break;case"className":l[d]=(l[d]?l[d]+" ":"")+v;break;case"inline":case"hFlip":case"vFlip":o[d]=v===!0||v==="true"||v===1;break;case"flip":typeof v=="string"&&zt(o,v);break;case"color":i.color=v;break;case"rotate":typeof v=="string"?o[d]=Gt(v):typeof v=="number"&&(o[d]=v);break;case"ariaHidden":case"aria-hidden":v!==!0&&v!=="true"&&delete l["aria-hidden"];break;default:n[d]===void 0&&(l[d]=v)}}const h=ft(t,o),c=h.attributes;if(o.inline&&(i.verticalAlign="-0.125em"),r==="svg"){l.style={...i,...a},Object.assign(l,c);let d=0,v=s.id;return typeof v=="string"&&(v=v.replace(/-/g,"_")),l.dangerouslySetInnerHTML={__html:Xt(wt(h.body,v?()=>v+"ID"+d++:"iconifyReact"))},m.createElement("svg",l)}const{body:g,width:y,height:b}=t,C=r==="mask"||(r==="bg"?!1:g.indexOf("currentColor")!==-1),T=Jt(g,{...c,width:y+"",height:b+""});return l.style={...i,"--svg":qt(T),width:Se(c.width),height:Se(c.height),...Zt,...C?ne:Ve,...a},m.createElement("span",l)};Oe(!0);xt("",At);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const s=t.IconifyPreload,e="Invalid IconifyPreload syntax.";typeof s=="object"&&s!==null&&(s instanceof Array?s:[s]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!at(n))&&console.error(e)}catch{console.error(e)}})}if(t.IconifyProviders!==void 0){const s=t.IconifyProviders;if(typeof s=="object"&&s!==null)for(let e in s){const n="IconifyProviders["+e+"] is invalid.";try{const o=s[e];if(typeof o!="object"||!o||o.resources===void 0)continue;yt(e,o)||console.error(n)}catch{console.error(n)}}}}function Fe(t){const[s,e]=m.useState(!!t.ssr),[n,o]=m.useState({});function r(b){if(b){const C=t.icon;if(typeof C=="object")return{name:"",data:C};const T=we(C);if(T)return{name:C,data:T}}return{name:""}}const[i,a]=m.useState(r(!!t.ssr));function l(){const b=n.callback;b&&(b(),o({}))}function h(b){if(JSON.stringify(i)!==JSON.stringify(b))return l(),a(b),!0}function c(){var b;const C=t.icon;if(typeof C=="object"){h({name:"",data:C});return}const T=we(C);if(h({name:C,data:T}))if(T===void 0){const d=Wt([C],c);o({callback:d})}else T&&((b=t.onLoad)===null||b===void 0||b.call(t,C))}m.useEffect(()=>(e(!0),l),[]),m.useEffect(()=>{s&&c()},[t.icon,s]);const{name:g,data:y}=i;return y?tn({...re,...y},t,g):t.children?t.children:m.createElement("span",{})}const _=m.forwardRef((t,s)=>Fe({...t,_ref:s}));m.forwardRef((t,s)=>Fe({inline:!0,...t,_ref:s}));function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},oe.apply(null,arguments)}const nn=t=>{switch(t){case"stacked":return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse";default:return"rhap_stacked"}},Ue=t=>t instanceof MouseEvent?t.clientX:t.touches[0].clientX,Y=t=>t>9?t.toString():`0${t}`,N=(t,s,e)=>{if(!isFinite(t))return null;const n=Math.floor(t/60),o=Y(n),r=Y(Math.floor(t%60)),i=Y(Math.floor(n%60)),a=Math.floor(n/60),l=`${o}:${r}`,h=`${a}:${i}:${r}`;if(e==="auto")return s>=3600?h:l;if(e==="mm:ss")return l;if(e==="hh:mm:ss")return h};function We(t,s){let e=!1;return n=>{e||(t(n),e=!0,setTimeout(()=>e=!1,s))}}class on extends m.Component{constructor(){super(...arguments);p(this,"timeOnMouseMove",0);p(this,"hasAddedAudioEventListener",!1);p(this,"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1});p(this,"getCurrentProgress",e=>{const{audio:n,progressBar:o}=this.props;if(n.src.indexOf("blob:")!==0&&typeof this.props.srcDuration>"u"&&(!n.src||!isFinite(n.currentTime)||!o.current))return{currentTime:0,currentTimePos:"0%"};const i=o.current.getBoundingClientRect(),a=i.width;let l=Ue(e)-i.left;return l<0?l=0:l>a&&(l=a),{currentTime:this.getDuration()*l/a,currentTimePos:`${(l/a*100).toFixed(2)}%`}});p(this,"handleContextMenu",e=>{e.preventDefault()});p(this,"handleMouseDownOrTouchStartProgressBar",e=>{e.stopPropagation();const{currentTime:n,currentTimePos:o}=this.getCurrentProgress(e.nativeEvent);isFinite(n)&&(this.timeOnMouseMove=n,this.setState({isDraggingProgress:!0,currentTimePos:o}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp)))});p(this,"handleWindowMouseOrTouchMove",e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const n=window.getSelection();n&&n.type==="Range"&&n.empty();const{isDraggingProgress:o}=this.state;if(o){const{currentTime:r,currentTimePos:i}=this.getCurrentProgress(e);this.timeOnMouseMove=r,this.setState({currentTimePos:i})}});p(this,"handleWindowMouseOrTouchUp",e=>{e.stopPropagation();const n=this.timeOnMouseMove,{audio:o,onChangeCurrentTimeError:r,onSeek:i}=this.props;if(i)this.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},()=>{i(o,n).then(()=>this.setState({waitingForSeekCallback:!1}),a=>{throw new Error(a)})});else{const a={isDraggingProgress:!1};if(o.readyState===o.HAVE_NOTHING||o.readyState===o.HAVE_METADATA||!isFinite(n))try{o.load()}catch(l){return a.currentTimePos="0%",r&&r(l)}o.currentTime=n,this.setState(a)}e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))});p(this,"handleAudioTimeUpdate",We(e=>{const{isDraggingProgress:n}=this.state,o=e.target;if(n||this.state.waitingForSeekCallback===!0)return;const{currentTime:r}=o,i=this.getDuration();this.setState({currentTimePos:`${(r/i*100||0).toFixed(2)}%`})},this.props.progressUpdateInterval));p(this,"handleAudioDownloadProgressUpdate",e=>{const n=e.target,o=this.getDuration(),r=[];for(let i=0;i<n.buffered.length;i++){const a=n.buffered.start(i),l=n.buffered.end(i);r.push({left:`${Math.round(100/o*a)||0}%`,width:`${Math.round(100/o*(l-a))||0}%`})}clearTimeout(this.downloadProgressAnimationTimer),this.setState({downloadProgressArr:r,hasDownloadProgressAnimation:!0}),this.downloadProgressAnimationTimer=setTimeout(()=>{this.setState({hasDownloadProgressAnimation:!1})},200)})}getDuration(){const{audio:e,srcDuration:n}=this.props;return typeof n>"u"?e.duration:n}initialize(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}componentDidMount(){this.initialize()}componentDidUpdate(){this.initialize()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}render(){const{showDownloadProgress:e,showFilledProgress:n,progressBar:o,i18nProgressBar:r}=this.props,{currentTimePos:i,downloadProgressArr:a,hasDownloadProgressAnimation:l}=this.state;return f.createElement("div",{className:"rhap_progress-container",ref:o,"aria-label":r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(i.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},f.createElement("div",{className:`rhap_progress-bar ${e?"rhap_progress-bar-show-download":""}`},f.createElement("div",{className:"rhap_progress-indicator",style:{left:i}}),n&&f.createElement("div",{className:"rhap_progress-filled",style:{width:i}}),e&&a.map((h,c)=>{let{left:g,width:y}=h;return f.createElement("div",{key:c,className:"rhap_download-progress",style:{left:g,width:y,transitionDuration:l?".2s":"0s"}})})))}}const sn=(t,s)=>f.createElement(on,oe({},t,{progressBar:s})),rn=m.forwardRef(sn);class ke extends m.PureComponent{constructor(e){super(e);p(this,"hasAddedAudioEventListener",!1);p(this,"state",{currentTime:this.props.defaultCurrentTime});p(this,"handleAudioCurrentTimeChange",e=>{const n=e.target,{isLeftTime:o,timeFormat:r,defaultCurrentTime:i}=this.props;this.setState({currentTime:N(o?n.duration-n.currentTime:n.currentTime,n.duration,r)||i})});p(this,"addAudioEventListeners",()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))});const{audio:n,defaultCurrentTime:o,isLeftTime:r,timeFormat:i}=e;let a=o;n&&(a=N(r?n.duration-n.currentTime:n.currentTime,n.duration,i)),this.state={currentTime:a}}componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}render(){return this.state.currentTime}}class an extends m.PureComponent{constructor(e){super(e);p(this,"hasAddedAudioEventListener",!1);p(this,"state",{duration:this.props.audio?N(this.props.audio.duration,this.props.audio.duration,this.props.timeFormat):this.props.defaultDuration});p(this,"handleAudioDurationChange",e=>{const n=e.target,{timeFormat:o,defaultDuration:r}=this.props;this.setState({duration:N(n.duration,n.duration,o)||r})});p(this,"addAudioEventListeners",()=>{const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",this.handleAudioDurationChange),e.addEventListener("abort",this.handleAudioDurationChange))});const{audio:n,timeFormat:o,defaultDuration:r}=e;this.state={duration:n?N(n.duration,n.duration,o):r}}componentDidMount(){this.addAudioEventListeners()}componentDidUpdate(){this.addAudioEventListeners()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}render(){return this.state.duration}}class ln extends m.Component{constructor(){super(...arguments);p(this,"hasAddedAudioEventListener",!1);p(this,"volumeBar",m.createRef());p(this,"volumeAnimationTimer",0);p(this,"lastVolume",this.props.volume);p(this,"state",{currentVolumePos:`${(this.lastVolume/1*100||0).toFixed(2)}%`,hasVolumeAnimation:!1,isDraggingVolume:!1});p(this,"getCurrentVolume",e=>{const{audio:n}=this.props;if(!this.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:this.state.currentVolumePos};const o=this.volumeBar.current.getBoundingClientRect(),r=o.width,i=Ue(e)-o.left;let a,l;return i<0?(a=0,l="0%"):i>o.width?(a=1,l="100%"):(a=i/r,l=`${i/r*100}%`),{currentVolume:a,currentVolumePos:l}});p(this,"handleContextMenu",e=>{e.preventDefault()});p(this,"handleClickVolumeButton",()=>{const{audio:e}=this.props;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume});p(this,"handleVolumnControlMouseOrTouchDown",e=>{e.stopPropagation();const{audio:n}=this.props,{currentVolume:o,currentVolumePos:r}=this.getCurrentVolume(e.nativeEvent);n.volume=o,this.setState({isDraggingVolume:!0,currentVolumePos:r}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp))});p(this,"handleWindowMouseOrTouchMove",e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const{audio:n}=this.props,o=window.getSelection();o&&o.type==="Range"&&o.empty();const{isDraggingVolume:r}=this.state;if(r){const{currentVolume:i,currentVolumePos:a}=this.getCurrentVolume(e);n.volume=i,this.setState({currentVolumePos:a})}});p(this,"handleWindowMouseOrTouchUp",e=>{e.stopPropagation(),this.setState({isDraggingVolume:!1}),e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))});p(this,"handleAudioVolumeChange",e=>{const{isDraggingVolume:n}=this.state,{volume:o}=e.target;(this.lastVolume>0&&o===0||this.lastVolume===0&&o>0)&&this.props.onMuteChange(),this.lastVolume=o,!n&&(this.setState({hasVolumeAnimation:!0,currentVolumePos:`${(o/1*100||0).toFixed(2)}%`}),clearTimeout(this.volumeAnimationTimer),this.volumeAnimationTimer=setTimeout(()=>{this.setState({hasVolumeAnimation:!1})},100))})}componentDidUpdate(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}render(){const{audio:e,showFilledVolume:n,i18nVolumeControl:o}=this.props,{currentVolumePos:r,hasVolumeAnimation:i}=this.state,{volume:a}=e||{};return f.createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":o,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((a*100).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},f.createElement("div",{className:"rhap_volume-bar"},f.createElement("div",{className:"rhap_volume-indicator",style:{left:r,transitionDuration:i?".1s":"0s"}}),n&&f.createElement("div",{className:"rhap_volume-filled",style:{width:r}})))}}let P=function(t){return t.CURRENT_TIME="CURRENT_TIME",t.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",t.PROGRESS_BAR="PROGRESS_BAR",t.DURATION="DURATION",t.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",t.MAIN_CONTROLS="MAIN_CONTROLS",t.VOLUME_CONTROLS="VOLUME_CONTROLS",t.LOOP="LOOP",t.VOLUME="VOLUME",t}({});const W=class W extends m.Component{constructor(){super(...arguments);p(this,"audio",m.createRef());p(this,"progressBar",m.createRef());p(this,"container",m.createRef());p(this,"lastVolume",this.props.volume??1);p(this,"togglePlay",e=>{e.stopPropagation();const n=this.audio.current;(n.paused||n.ended)&&n.src?this.playAudioPromise():n.paused||n.pause()});p(this,"playAudioPromise",()=>{this.audio.current.error&&this.audio.current.load();const e=this.audio.current.play();e?e.then(null).catch(n=>{const{onPlayError:o}=this.props;o&&o(new Error(n))}):this.forceUpdate()});p(this,"isPlaying",()=>{const e=this.audio.current;return e?!e.paused&&!e.ended:!1});p(this,"handlePlay",e=>{this.forceUpdate(),this.props.onPlay&&this.props.onPlay(e)});p(this,"handlePause",e=>{this.audio&&(this.forceUpdate(),this.props.onPause&&this.props.onPause(e))});p(this,"handleEnded",e=>{this.audio&&(this.forceUpdate(),this.props.onEnded&&this.props.onEnded(e))});p(this,"handleAbort",e=>{this.props.onAbort&&this.props.onAbort(e)});p(this,"handleClickVolumeButton",()=>{const e=this.audio.current;e.volume>0?(this.lastVolume=e.volume,e.volume=0):e.volume=this.lastVolume});p(this,"handleMuteChange",()=>{this.forceUpdate()});p(this,"handleClickLoopButton",()=>{this.audio.current.loop=!this.audio.current.loop,this.forceUpdate()});p(this,"handleClickRewind",()=>{const{progressJumpSteps:e,progressJumpStep:n}=this.props,o=e.backward||n;this.setJumpTime(-o)});p(this,"handleClickForward",()=>{const{progressJumpSteps:e,progressJumpStep:n}=this.props,o=e.forward||n;this.setJumpTime(o)});p(this,"setJumpTime",e=>{const n=this.audio.current,{duration:o,currentTime:r}=n;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(o)||!isFinite(r))try{n.load()}catch(a){return this.props.onChangeCurrentTimeError&&this.props.onChangeCurrentTimeError(a)}let i=r+e/1e3;i<0?(n.currentTime=0,i=0):i>o?(n.currentTime=o,i=o):n.currentTime=i});p(this,"setJumpVolume",e=>{let n=this.audio.current.volume+e;n<0?n=0:n>1&&(n=1),this.audio.current.volume=n});p(this,"handleKeyDown",e=>{if(this.props.hasDefaultKeyBindings??!0)switch(e.key){case" ":(e.target===this.container.current||e.target===this.progressBar.current)&&(e.preventDefault(),this.togglePlay(e));break;case"ArrowLeft":this.handleClickRewind();break;case"ArrowRight":this.handleClickForward();break;case"ArrowUp":e.preventDefault(),this.setJumpVolume(this.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),this.setJumpVolume(-this.props.volumeJumpStep);break;case"l":this.handleClickLoopButton();break;case"m":this.handleClickVolumeButton();break}});p(this,"renderUIModules",e=>e.map((n,o)=>this.renderUIModule(n,o)));p(this,"renderUIModule",(e,n)=>{const{defaultCurrentTime:o="--:--",progressUpdateInterval:r=20,showDownloadProgress:i=!0,showFilledProgress:a=!0,showFilledVolume:l=!1,defaultDuration:h="--:--",customIcons:c={},showSkipControls:g=!1,onClickPrevious:y,onClickNext:b,onChangeCurrentTimeError:C,showJumpControls:T=!0,customAdditionalControls:d=[P.LOOP],customVolumeControls:v=[P.VOLUME],muted:M=!1,timeFormat:S="auto",volume:A=1,loop:D=!1,mse:w,i18nAriaLabels:E=W.defaultI18nAriaLabels}=this.props;switch(e){case P.CURRENT_TIME:return f.createElement("div",{key:n,id:"rhap_current-time",className:"rhap_time rhap_current-time"},f.createElement(ke,{audio:this.audio.current,isLeftTime:!1,defaultCurrentTime:o,timeFormat:S}));case P.CURRENT_LEFT_TIME:return f.createElement("div",{key:n,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},f.createElement(ke,{audio:this.audio.current,isLeftTime:!0,defaultCurrentTime:o,timeFormat:S}));case P.PROGRESS_BAR:return f.createElement(rn,{key:n,ref:this.progressBar,audio:this.audio.current,progressUpdateInterval:r,showDownloadProgress:i,showFilledProgress:a,onSeek:w&&w.onSeek,onChangeCurrentTimeError:C,srcDuration:w&&w.srcDuration,i18nProgressBar:E.progressControl});case P.DURATION:return f.createElement("div",{key:n,className:"rhap_time rhap_total-time"},w&&w.srcDuration?N(w.srcDuration,w.srcDuration,this.props.timeFormat):f.createElement(an,{audio:this.audio.current,defaultDuration:h,timeFormat:S}));case P.ADDITIONAL_CONTROLS:return f.createElement("div",{key:n,className:"rhap_additional-controls"},this.renderUIModules(d));case P.MAIN_CONTROLS:{const L=this.isPlaying();let k;return L?k=c.pause?c.pause:f.createElement(_,{icon:"mdi:pause-circle"}):k=c.play?c.play:f.createElement(_,{icon:"mdi:play-circle"}),f.createElement("div",{key:n,className:"rhap_main-controls"},g&&f.createElement("button",{"aria-label":E.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:y},c.previous?c.previous:f.createElement(_,{icon:"mdi:skip-previous"})),T&&f.createElement("button",{"aria-label":E.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:this.handleClickRewind},c.rewind?c.rewind:f.createElement(_,{icon:"mdi:rewind"})),f.createElement("button",{"aria-label":L?E.pause:E.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:this.togglePlay},k),T&&f.createElement("button",{"aria-label":E.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:this.handleClickForward},c.forward?c.forward:f.createElement(_,{icon:"mdi:fast-forward"})),g&&f.createElement("button",{"aria-label":E.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:b},c.next?c.next:f.createElement(_,{icon:"mdi:skip-next"})))}case P.VOLUME_CONTROLS:return f.createElement("div",{key:n,className:"rhap_volume-controls"},this.renderUIModules(v));case P.LOOP:{const L=this.audio.current?this.audio.current.loop:D;let k;return L?k=c.loop?c.loop:f.createElement(_,{icon:"mdi:repeat"}):k=c.loopOff?c.loopOff:f.createElement(_,{icon:"mdi:repeat-off"}),f.createElement("button",{key:n,"aria-label":L?E.loop:E.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:this.handleClickLoopButton},k)}case P.VOLUME:{const{volume:L=M?0:A}=this.audio.current||{};let k;return L?k=c.volume?c.volume:f.createElement(_,{icon:"mdi:volume-high"}):k=c.volume?c.volumeMute:f.createElement(_,{icon:"mdi:volume-mute"}),f.createElement("div",{key:n,className:"rhap_volume-container"},f.createElement("button",{"aria-label":L?E.volume:E.volumeMute,onClick:this.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},k),f.createElement(ln,{audio:this.audio.current,volume:L,onMuteChange:this.handleMuteChange,showFilledVolume:l,i18nVolumeControl:E.volumeControl}))}default:return m.isValidElement(e)?e.key?e:m.cloneElement(e,{key:n}):null}})}componentDidMount(){this.forceUpdate();const e=this.audio.current;this.props.muted?e.volume=0:e.volume=this.lastVolume,e.addEventListener("error",n=>{const o=n.target;if(o.error&&o.currentTime===o.duration)return this.props.onEnded&&this.props.onEnded(n);this.props.onError&&this.props.onError(n)}),e.addEventListener("canplay",n=>{this.props.onCanPlay&&this.props.onCanPlay(n)}),e.addEventListener("canplaythrough",n=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(n)}),e.addEventListener("play",this.handlePlay),e.addEventListener("abort",this.handleAbort),e.addEventListener("ended",this.handleEnded),e.addEventListener("playing",n=>{this.props.onPlaying&&this.props.onPlaying(n)}),e.addEventListener("seeking",n=>{this.props.onSeeking&&this.props.onSeeking(n)}),e.addEventListener("seeked",n=>{this.props.onSeeked&&this.props.onSeeked(n)}),e.addEventListener("waiting",n=>{this.props.onWaiting&&this.props.onWaiting(n)}),e.addEventListener("emptied",n=>{this.props.onEmptied&&this.props.onEmptied(n)}),e.addEventListener("stalled",n=>{this.props.onStalled&&this.props.onStalled(n)}),e.addEventListener("suspend",n=>{this.props.onSuspend&&this.props.onSuspend(n)}),e.addEventListener("loadstart",n=>{this.props.onLoadStart&&this.props.onLoadStart(n)}),e.addEventListener("loadedmetadata",n=>{this.props.onLoadedMetaData&&this.props.onLoadedMetaData(n)}),e.addEventListener("loadeddata",n=>{this.props.onLoadedData&&this.props.onLoadedData(n)}),e.addEventListener("pause",this.handlePause),e.addEventListener("timeupdate",We(n=>{this.props.onListen&&this.props.onListen(n)},this.props.listenInterval)),e.addEventListener("volumechange",n=>{this.props.onVolumeChange&&this.props.onVolumeChange(n)}),e.addEventListener("encrypted",n=>{const{mse:o}=this.props;o&&o.onEcrypted&&o.onEcrypted(n)})}componentDidUpdate(e){const{src:n,autoPlayAfterSrcChange:o}=this.props;e.src!==n&&(o?this.playAudioPromise():this.forceUpdate())}render(){const{className:e="",src:n,loop:o=!1,preload:r="auto",autoPlay:i=!1,crossOrigin:a,mediaGroup:l,header:h,footer:c,layout:g="stacked",customProgressBarSection:y=[P.CURRENT_TIME,P.PROGRESS_BAR,P.DURATION],customControlsSection:b=[P.ADDITIONAL_CONTROLS,P.MAIN_CONTROLS,P.VOLUME_CONTROLS],children:C,style:T,i18nAriaLabels:d=W.defaultI18nAriaLabels}=this.props,v=this.audio.current?this.audio.current.loop:o,M=v?"rhap_loop--on":"rhap_loop--off",S=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return f.createElement("div",{role:"group",tabIndex:0,"aria-label":d.player,className:`rhap_container ${M} ${S} ${e}`,onKeyDown:this.handleKeyDown,ref:this.container,style:T},f.createElement("audio",{src:n,controls:!1,loop:v,autoPlay:i,preload:r,crossOrigin:a,mediaGroup:l,ref:this.audio},C),h&&f.createElement("div",{className:"rhap_header"},h),f.createElement("div",{className:`rhap_main ${nn(g)}`},f.createElement("div",{className:"rhap_progress-section"},this.renderUIModules(y)),f.createElement("div",{className:"rhap_controls-section"},this.renderUIModules(b))),c&&f.createElement("div",{className:"rhap_footer"},c))}};p(W,"defaultI18nAriaLabels",{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"});let se=W;function fn(){const{id:t}=Xe(),s=Ye(),[e,n]=m.useState(window.innerWidth),[o,r]=m.useState(""),[i,a]=m.useState(""),[l,h]=m.useState(""),[c,g]=m.useState(""),[y,b]=m.useState(""),[C,T]=m.useState(""),[d,v]=m.useState({}),[M,S]=m.useState(null),[A,D]=m.useState(!1),[w,E]=m.useState([]),[L,k]=m.useState([]),[j,ce]=m.useState(!1),[Be,ue]=m.useState(!1),[$e,de]=m.useState(!1),[ze,cn]=m.useState("");m.useEffect(()=>{a(window.sessionStorage.getItem("nickname")||""),T(window.sessionStorage.getItem("gender_type")||"");const x=window.sessionStorage.getItem("token")||"";r(x),h(window.sessionStorage.getItem("chat_id")||""),g(window.sessionStorage.getItem("chat_token")||""),b(window.sessionStorage.getItem("u_id")||""),!window.WebSocketObject&&typeof window.WebSocketConnect=="function"&&window.WebSocketConnect(window.sessionStorage.getItem("u_id")),Je(x)},[t]),m.useEffect(()=>{const x=()=>n(window.innerWidth);return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const he=m.useCallback(()=>{let x=2;return e>960&&(x=3),((e>800?800:e)-30)/x},[e]),Ge=x=>{if(x){const I=Date.now()-new Date(x).getTime(),O=new Date(I);return" "+Math.abs(O.getUTCFullYear()-1970)}return""},Je=async x=>{try{const I=await $.get(`https://api.dageiwo.com/index/detail/${t}`,{headers:{Authorization:`Bearer ${x}`}});if(I.status===200&&I.data.success){const O=I.data.data;v(O),D(O.is_following),O.statement&&E(O.statement.split(",")),O.appearance&&k(O.appearance.split(","));let fe="";for(let q=0;q<O.img_responses.length;q++){const me=O.img_responses[q];if(me.status!=="PENDING"){fe=me.image_url;break}}S(fe)}}catch(I){console.error("RetrieveInfo error:",I)}},pe=async()=>{try{if(A){const x=await $.delete(`https://api.dageiwo.com/api/user/follow?host_id=${d.id}`,{headers:{Authorization:`Bearer ${o}`}});x.status===200&&x.data.success&&D(!1)}else{const x=await $.post(`https://api.dageiwo.com/api/user/follow?host_id=${d.id}`,{},{headers:{Authorization:`Bearer ${o}`}});x.status===200&&x.data.success&&D(!0)}}catch(x){console.error("Follow error:",x),alert("操作失敗，請稍後再試")}},He=async()=>{Q()},Qe=async()=>{Q()},Q=async()=>{try{const x=await $.post("https://api.dageiwo.com/api/chat/create_or_get",null,{params:{sender_id:y,recipient_id:d.id},headers:{Authorization:`Bearer ${o}`}});if(x.status===200&&x.data.success){const I=x.data.data;s(`/man-chat-list/${I.channel_url}`)}else console.error("API 回傳錯誤:",x.data.message),alert("無法建立聊天室，請稍後再試")}catch(x){console.error("API 請求失敗:",x),alert("建立聊天室失敗，請稍後再試！")}};return u.jsxs(u.Fragment,{children:[u.jsx(Ze,{children:u.jsx("button",{style:{background:"none",border:"none",color:"#fff",cursor:"pointer"},onClick:()=>s("/home"),children:u.jsx("i",{className:"mdi mdi-chevron-left",style:{fontSize:"24px"}})})}),d&&u.jsxs("div",{className:"info-main",style:{maxWidth:"800px",margin:"0 auto",padding:"1rem"},children:[u.jsx("div",{style:{borderRadius:"16px",overflow:"hidden",marginBottom:"1rem"},children:u.jsx("img",{src:M||"/images/placeholder.png",alt:"main",style:{width:"100%",height:he()*2,objectFit:"cover"}})}),u.jsxs("div",{style:{display:"flex",margin:"5px 0"},children:[u.jsx("h2",{style:{flex:1},children:d.nickname}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:A?u.jsx("button",{className:"dis-follow-btn",onClick:pe,children:"取消關注"}):u.jsx("button",{className:"follow-btn",onClick:pe,children:"關注對方"})})]}),u.jsxs("div",{style:{margin:"4px 0",fontSize:"14px"},children:[Ge(d.birthday)," 歲"]}),u.jsxs("div",{style:{margin:"4px 0"},children:[!d.cannot_take_call&&u.jsx("span",{style:{backgroundColor:"purple",color:"#fff",padding:"2px 6px",marginRight:"4px",fontSize:"12px",borderRadius:"4px"},children:"語音"}),!d.cannot_take_video_call&&u.jsx("span",{style:{backgroundColor:"cyan",color:"#fff",padding:"2px 6px",fontSize:"12px",borderRadius:"4px"},children:"視訊"})]}),u.jsx("div",{style:{margin:"10px 0 4px 0",fontWeight:"bold"},children:"自我介紹"}),u.jsx("div",{style:{fontSize:"14px"},children:d.about_me}),u.jsx("div",{style:{margin:"10px 0 4px 0",fontWeight:"bold"},children:"我先聲明"}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:w.map((x,I)=>u.jsxs("span",{style:{backgroundColor:"#dd8ea4",color:"#fff",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:["#",x]},I))}),u.jsx("div",{style:{margin:"10px 0 4px 0",fontWeight:"bold"},children:"外型"}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:L.map((x,I)=>u.jsxs("span",{style:{backgroundColor:"#dd8ea4",color:"#fff",padding:"2px 6px",borderRadius:"4px",fontSize:"12px"},children:["#",x]},I))}),u.jsx("div",{style:{margin:"10px 0 4px 0",fontWeight:"bold"},children:"語音留言"}),u.jsx("div",{style:{margin:"1rem 0"},children:u.jsx(se,{src:d.mp3_url||"",onPlay:x=>console.log("播放中..."),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",maxWidth:"100%"},autoPlayAfterSrcChange:!1,customAdditionalControls:[],customVolumeControls:[]})}),u.jsx("div",{className:"female-member-list",children:d.img_responses&&d.img_responses.map((x,I)=>{const O=x.status==="PENDING";return u.jsx("div",{children:u.jsxs("div",{style:{position:"relative",borderRadius:"16px",overflow:"hidden"},children:[u.jsx("img",{src:x.image_url||"/images/placeholder.png",alt:"sub",style:{width:"100%",height:he(),objectFit:"cover",filter:O?"blur(8px)":"none",transform:O?"scale(0.95)":"scale(1)"}}),O&&u.jsx("div",{className:"approving",children:"審查中"})]})},I)})})]}),d&&u.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"linear-gradient(rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%)",display:"flex",justifyContent:"center",padding:"8px 0",marginBottom:"60px"},children:[u.jsx("button",{style:{backgroundColor:"#fff",border:"none",width:"50px",height:"50px",borderRadius:"50%",margin:"0 10px",cursor:d.cannot_take_call?"not-allowed":"pointer"},disabled:d.cannot_take_call,onClick:()=>ce(!0),children:u.jsx("i",{className:"mdi mdi-phone-in-talk",style:{color:"purple",fontSize:"24px"}})}),u.jsx("button",{style:{backgroundColor:"#dd8ea4",border:"none",width:"50px",height:"50px",borderRadius:"50%",margin:"0 10px",cursor:"pointer"},onClick:Q,children:u.jsx("i",{className:"mdi mdi-chat-processing-outline",style:{color:"#fff",fontSize:"24px"}})}),u.jsx("button",{style:{backgroundColor:"#fff",border:"none",width:"50px",height:"50px",borderRadius:"50%",margin:"0 10px",cursor:d.cannot_take_video_call?"not-allowed":"pointer"},disabled:d.cannot_take_video_call,onClick:()=>ue(!0),children:u.jsx("i",{className:"mdi mdi-video",style:{color:"blue",fontSize:"24px"}})})]}),j&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("button",{className:"modal-close",onClick:()=>ce(!1),children:u.jsx("i",{className:"mdi mdi-close"})}),u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("img",{src:"../public/assets/通話費率.png",alt:"通話費率",style:{maxWidth:"120px"}}),u.jsxs("p",{children:["將以每",u.jsxs("span",{style:{fontWeight:"bolder"},children:[d.call_coin,"點/分鐘"]}),"扣點進行語音通話"]}),u.jsx("button",{style:{backgroundColor:"#dd8ea4",color:"#fff",padding:"8px 16px",borderRadius:"4px",border:"none",margin:"0.5rem 0",width:"100%"},onClick:He,children:"確定"}),u.jsx("button",{style:{backgroundColor:"#fff",color:"#dd8ea4",padding:"8px 16px",borderRadius:"4px",border:"2px solid #dd8ea4",width:"100%"},onClick:()=>s("/purchase/deposit"),children:"前往加值"})]})]})}),Be&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("button",{className:"modal-close",onClick:()=>ue(!1),children:u.jsx("i",{className:"mdi mdi-close"})}),u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("img",{src:"../public/assets/視訊費率.png",alt:"視訊費率",style:{maxWidth:"120px"}}),u.jsxs("p",{children:["將以每",u.jsxs("span",{style:{fontWeight:"bolder"},children:[d.video_coin,"點/分鐘"]}),"扣點進行視訊通話"]}),u.jsx("button",{style:{backgroundColor:"#dd8ea4",color:"#fff",padding:"8px 16px",borderRadius:"4px",border:"none",margin:"0.5rem 0",width:"100%"},onClick:Qe,children:"確定"}),u.jsx("button",{style:{backgroundColor:"#fff",color:"#dd8ea4",padding:"8px 16px",borderRadius:"4px",border:"2px solid #dd8ea4",width:"100%"},onClick:()=>s("/purchase/deposit"),children:"前往加值"})]})]})}),$e&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("button",{className:"modal-close",onClick:()=>de(!1),children:u.jsx("i",{className:"mdi mdi-close"})}),u.jsx("h3",{style:{textAlign:"center"},children:"打開 APP"}),u.jsx("p",{style:{textAlign:"center"},children:"偵測到已安裝 APP，請點擊按鈕打開。"}),u.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[u.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#555"},onClick:()=>de(!1),children:"取消"}),u.jsx("a",{href:ze,style:{textDecoration:"none"},children:u.jsx("button",{style:{backgroundColor:"#dd8ea4",color:"#fff",border:"none",padding:"8px 16px",borderRadius:"4px"},children:"確定"})})]})]})})]})}export{fn as default};
